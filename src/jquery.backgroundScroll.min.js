!function(a){a.fn.extend({backgroundScroll:function(b){var e={wrapBoxSelector:"body",imagesPath:"images/background.jpg"};if(this.length<1)return void console.log("警告：找不到"+b.contentBoxSelector+"！");var h,b=a.extend({},e,b),f=a(b.wrapBoxSelector),g=this;e.wrapBoxSelector===b.wrapBoxSelector?(h=window,_view_finderScroller=document):h=_view_finderScroller=f;var k,j=function(a,b){var c=new Image;c.onload=function(){c.onload=null,b(c)},c.src=a};return j(b.imagesPath,function(c){k=c.height,f.css("background-image",'url("'+b.imagesPath+'")'),h!==_view_finderScroller&&f.css("background-attachment","fixed"),f.css("background-repeat","no-repeat"),a(f).on("load resize",scrollingEvent),a(_view_finderScroller).on("scroll",scrollingEvent),scrollingEvent()}),scrollingEvent=function(b){var c=g.height(),d=h!==_view_finderScroller?0:a.scrollbarWidth(),e=a(h).height(),i=a(_view_finderScroller).scrollTop();c>k?f.css("background-position","0px -"+i*(k-e+d)/(c-e+d)+"px"):c<k&&c>e&&f.css("background-position","0px -"+i*(k-e+d)/(c-e+d)+"px")},this}})}(window.jQuery);