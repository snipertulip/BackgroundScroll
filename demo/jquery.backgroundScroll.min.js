!function(a){a.fn.backgroundScroll=function(b){var c={wrapBoxSelector:"body",imagesPath:"images/background.jpg"},b=a.extend({},c,b);if("body"!==a(this).parent()[0].tagName.toLowerCase()&&(b.wrapBoxSelector="#"+a(this).parent()[0].id),a(this).length<1)return void console.log("Warning：Can't find the"+b.wrapBoxSelector+"！");var h,f=a(b.wrapBoxSelector),g=a(this);"body"===b.wrapBoxSelector?(h=window,_view_finderScroller=document):h=_view_finderScroller=f;var j=function(a,b){var c=new Image;c.onload=function(){c.onload=null,b(c)},c.src=a};"body"===b.wrapBoxSelector?f.css("background-attachment","fixed"):f.css("background-attachment","scroll"),f.css("background-repeat","no-repeat");var k;j(b.imagesPath,function(a){k=a.height,f.css("background-image",'url("'+b.imagesPath+'")')});var l=function(c){var d=g.height(),e="body"===b.wrapBoxSelector?0:a.scrollbarWidth(),i=a(h).height(),j=a(b.wrapBoxSelector).scrollTop();"body"===b.wrapBoxSelector&&(j=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop),d>k?f.css("background-position","0px -"+j*(k-i+e)/(d-i+e)+"px"):d<k&&d>i&&f.css("background-position","0px -"+j*(k-i+e)/(d-i+e)+"px")};return"body"===b.wrapBoxSelector?a(window).on("load resize scroll",l):(a(h).on("load resize",l),a(_view_finderScroller).on("scroll",l)),this}}(window.jQuery);